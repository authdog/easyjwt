(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[12],{8215:function(e,n,t){"use strict";var a=t(7294);n.Z=function(e){var n=e.children,t=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:o},n)}},5064:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var a=t(7294),o=t(9443);var r=function(){var e=(0,a.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},s=t(6010),i="tabItem_1uMI",l="tabItemActive_2DSg";var c=37,d=39;var u=function(e){var n=e.lazy,t=e.block,o=e.defaultValue,u=e.values,m=e.groupId,p=e.className,g=r(),h=g.tabGroupChoices,k=g.setTabGroupChoices,b=(0,a.useState)(o),f=b[0],v=b[1],w=a.Children.toArray(e.children),y=[];if(null!=m){var x=h[m];null!=x&&x!==f&&u.some((function(e){return e.value===x}))&&v(x)}var T=function(e){var n=e.currentTarget,t=y.indexOf(n),a=u[t].value;v(a),null!=m&&(k(m,a),setTimeout((function(){var e,t,a,o,r,s,i,c;(e=n.getBoundingClientRect(),t=e.top,a=e.left,o=e.bottom,r=e.right,s=window,i=s.innerHeight,c=s.innerWidth,t>=0&&r<=c&&o<=i&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(l),setTimeout((function(){return n.classList.remove(l)}),2e3))}),150))},j=function(e){var n,t;switch(e.keyCode){case d:var a=y.indexOf(e.target)+1;t=y[a]||y[0];break;case c:var o=y.indexOf(e.target)-1;t=y[o]||y[y.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":t},p)},u.map((function(e){var n=e.value,t=e.label;return a.createElement("li",{role:"tab",tabIndex:f===n?0:-1,"aria-selected":f===n,className:(0,s.Z)("tabs__item",i,{"tabs__item--active":f===n}),key:n,ref:function(e){return y.push(e)},onKeyDown:j,onFocus:T,onClick:T},t)}))),n?(0,a.cloneElement)(w.filter((function(e){return e.props.value===f}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},w.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==f})}))))}},8753:function(e,n,t){"use strict";t.r(n),t.d(n,{algorithms:function(){return b},contentTitle:function(){return g},default:function(){return v},frontMatter:function(){return p},metadata:function(){return h},toc:function(){return k}});var a=t(2122),o=t(9756),r=(t(7294),t(3905)),s=t(5064),i=t(8215),l=t(1756),c='import {generatePrivateJwk, createSignedJwt} from "@authdog/easyjwt"\n\nconst main = async () => {\n    const payload = {\n        userId: "e156b806-2879-4f4b-878d-9426d75dbcbf"\n    }\n\n    const algorithm = "{{algorithm}}";\n\n    const jwk = await generatePrivateJwk(\n        "RSA",\n        algorithm\n    );\n\n    const token = await createSignedJwt(\n        payload,\n        {\n            algorithm,\n            claims: {\n                issuer: "https://my-app.com",\n                audiences: ["users", "app", "dashboard"],\n                scopes: "user openid",\n                sessionDuration: 60 // minutes\n            },\n            signinOptions: {\n                jwk\n            }\n        }\n    );\n\n    // ...\n    // do something with the token\n\n}\n\nmain()',d='{\n  "alg": "{{algorithm}}",\n  "typ": "JWT"\n}\n\n{\n  "userId": "e156b806-2879-4f4b-878d-9426d75dbcbf",\n  "iat": {{issuedAt}},\n  "exp": {{expiresAt}}\n}',u=t(4973),m=["components"],p={title:"Creating a token",sidebar_label:"Token creation"},g=void 0,h={unversionedId:"jwt/signin-a-token",id:"jwt/signin-a-token",isDocsHomePage:!1,title:"Creating a token",description:"When you create a token, you need to ensure that the key used to generate it, is stored in a safe place, to mitigate any jwt based attack.",source:"@site/docs/jwt/signin-a-token.mdx",sourceDirName:"jwt",slug:"/jwt/signin-a-token",permalink:"/docs/jwt/signin-a-token",version:"current",frontMatter:{title:"Creating a token",sidebar_label:"Token creation"},sidebar:"docSidebar",previous:{title:"Installation",permalink:"/docs/introduction/installation"},next:{title:"Token validation",permalink:"/docs/jwt/validating-a-token"}},k=[],b=[{alg:"hs256",src:'import {createSignedJwt} from "@authdog/easyjwt"\n\nconst main = async () => {\n    const payload = {\n        userId: "e156b806-2879-4f4b-878d-9426d75dbcbf"\n    }\n    \n    const algorithm = "{{algorithm}}";\n    \n    const secret = "strongSecretPleaseDontShare";\n\n    const token = await createSignedJwt(\n        payload,\n        {\n            algorithm,\n            claims: {\n                issuer: "https://my-app.com",\n                audiences: ["users", "app", "dashboard"],\n                scopes: "user openid",\n                sessionDuration: 60 // minutes\n            },\n            signinOptions: {\n                secret\n            }\n        }\n    );\n\n    // ...\n    // do something with the token\n\n}\n\nmain()',payload:d},{alg:"rs256",src:c,payload:d},{alg:"rs384",src:c,payload:d},{alg:"rs512",src:c,payload:d},{alg:"ps256",src:c,payload:d},{alg:"ps384",src:c,payload:d},{alg:"ps512",src:c,payload:d}].map((function(e){return Object.freeze(Object.assign({},e,{src:e.src.replace(/{{algorithm}}/g,e.alg.toUpperCase()),payload:e.payload.replace(/{{algorithm}}/g,e.alg.toUpperCase()).replace(/{{issuedAt}}/g,parseInt(Number(new Date/1e3))).replace(/{{expiresAt}}/g,parseInt(Number(new Date((new Date).getTime()+36e5)/1e3)))}))})),f={toc:k,algorithms:b};function v(e){var n=e.components,t=(0,o.Z)(e,m);return(0,r.kt)("wrapper",(0,a.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)(u.Z,{id:"jwt.signin.note-about-signin-jwt",mdxType:"Translate"},"When you create a token, you need to ensure that the key used to generate it, is stored in a safe place, to mitigate any jwt based attack. Use of HS256 is not recommended as it's using a single string to forge the web token and it can easily be brute-forced compared to more modern algorithms such as RS256."))),(0,r.kt)(s.Z,{defaultValue:"rs256",values:b.map((function(e){return Object.freeze({label:e.alg.toUpperCase(),value:e.alg})})),mdxType:"Tabs"},b.map((function(e,n){return(0,r.kt)(i.Z,{key:n,value:e.alg,mdxType:"TabItem"},(0,r.kt)(u.Z,{id:"jwt.signin.note-signin-jwt-example",mdxType:"Translate"},"Here is below an example to create a JSON Web Token for the selected algorithm:"),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)(l.Z,{key:n+"-1",className:"language-jsx",mdxType:"CodeBlock"},e.src),(0,r.kt)("br",null),(0,r.kt)(u.Z,{id:"jwt.signin.note-payload-jwt-headers",mdxType:"Translate"},"The token should have self-contained headers and payload as below:"),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)(l.Z,{key:n+"-2",className:"language-jsx",mdxType:"CodeBlock"},e.payload))}))))}v.isMDXComponent=!0}}]);